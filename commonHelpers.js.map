{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// render-functions.js\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = new SimpleLightbox('.gallery a');\n\nexport function clearGallery() {\n    const galleryElement = document.querySelector('.gallery');\n    galleryElement.innerHTML = '';\n}\n\nexport function renderImages(images) {\n    const galleryElement = document.querySelector('.gallery');\n    const imageElements = images.map(image => {\n        return `\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n        `;\n    }).join('');\n    galleryElement.innerHTML = imageElements;\n    gallery.refresh(); // Refresh SimpleLightbox gallery\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').style.display = 'block';\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').style.display = 'none';\n}\n","// pixabay-api.js\n\nconst API_KEY = '43277181-ebb9172f58fa43bc64ca23581';\n\nexport function fetchImages(searchQuery) {\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(searchQuery)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n        .then(data => data.hits)\n        .catch(error => {\n            throw new Error('Failed to fetch images');\n        });\n}\n","import iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { clearGallery, renderImages, showLoader, hideLoader } from './js/render-functions';\n\nimport { fetchImages } from './js/pixabay-api';\n\nconst list = document.querySelector('.list');\n\nconst API_KEY = '43277181-ebb9172f58fa43bc64ca23581';\nconst form = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\nconst submitButton = document.querySelector('.submit-button');\n\nform.addEventListener('submit', handleSubmit);\n    \nfunction handleSubmit(event) {\n    event.preventDefault();\n    const searchQuery = searchInput.value.trim();\n    if (!searchQuery) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query',\n        });\n        return;\n    }\n    showLoader();\n    clearGallery();\n    fetchImages(searchQuery)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                renderImages(images);\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'Failed to fetch images. Please try again later!',\n            });\n        })\n        .finally(() => {\n            hideLoader();\n        });\n}"],"names":["gallery","SimpleLightbox","clearGallery","galleryElement","renderImages","images","imageElements","image","showLoader","hideLoader","API_KEY","fetchImages","searchQuery","url","response","data","error","form","searchInput","handleSubmit","event","iziToast"],"mappings":"6vBAKA,MAAMA,EAAU,IAAIC,EAAe,YAAY,EAExC,SAASC,GAAe,CAC3B,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,EAC/B,CAEO,SAASC,EAAaC,EAAQ,CACjC,MAAMF,EAAiB,SAAS,cAAc,UAAU,EAClDG,EAAgBD,EAAO,IAAIE,GACtB;AAAA,uBACQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,SAG7D,EAAE,KAAK,EAAE,EACVJ,EAAe,UAAYG,EAC3BN,EAAQ,QAAO,CACnB,CAEO,SAASQ,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OACtD,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACtD,CC7BA,MAAMC,EAAU,qCAET,SAASC,EAAYC,EAAa,CACrC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAW,CAAC,2DAExF,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACZ,MAAM,IAAI,MAAM,wBAAwB,CACpD,CAAS,CACT,CCNa,SAAS,cAAc,OAAO,EAG3C,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACrC,SAAS,cAAc,gBAAgB,EAE5DD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMR,EAAcM,EAAY,MAAM,KAAI,EAC1C,GAAI,CAACN,EAAa,CACdS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACD,MACH,CACDb,IACAN,IACAS,EAAYC,CAAW,EAClB,KAAKP,GAAU,CACRA,EAAO,SAAW,EAClBgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDjB,EAAaC,CAAM,CAEnC,CAAS,EACA,MAAMW,GAAS,CACZK,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXZ,GACZ,CAAS,CACT"}